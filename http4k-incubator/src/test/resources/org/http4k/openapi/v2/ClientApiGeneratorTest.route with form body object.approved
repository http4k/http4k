>>>TitleClient.kt

package testPackage.client

import kotlin.Boolean
import kotlin.Int
import org.http4k.core.Body
import org.http4k.core.Body.webForm
import org.http4k.core.HttpHandler
import org.http4k.core.Method
import org.http4k.core.Request
import org.http4k.core.with
import org.http4k.lens.FormField
import org.http4k.lens.Validator.Strict
import org.http4k.lens.boolean
import org.http4k.lens.int

class TitleClient(
	private val httpHandler: HttpHandler
) {
	fun endpoint(required: Boolean, optional: Int?) {

		val requiredLens = FormField.boolean().required("required")
		val optionalLens = FormField.int().optional("optional")
		val formLens = Body.webForm(Strict, requiredLens, optionalLens).toLens()
		val httpReq = Request(Method.POST, "/formbody")
			.with(formLens of request)

		httpHandler(httpReq)
	}
}
