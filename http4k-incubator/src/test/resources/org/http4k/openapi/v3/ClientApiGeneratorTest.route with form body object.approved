>>>TitleClient.kt

package testPackage.client

import kotlin.Boolean
import kotlin.Int
import kotlin.String
import org.http4k.core.Body
import org.http4k.core.HttpHandler
import org.http4k.core.Method
import org.http4k.core.Request
import org.http4k.core.with
import org.http4k.lens.FormField
import org.http4k.lens.Validator.Strict
import org.http4k.lens.WebForm
import org.http4k.lens.boolean
import org.http4k.lens.int
import org.http4k.lens.string
import org.http4k.lens.webForm

class TitleClient(
	private val httpHandler: HttpHandler
) {
	fun endpoint(
		boolean: Boolean,
		integer: Int?,
		string: String?,
		json: String
	) {

		val booleanLens = FormField.boolean().required("boolean")
		val integerLens = FormField.int().optional("integer")
		val stringLens = FormField.string().optional("string")
		val jsonLens = FormField.string().required("json")
		val formLens = Body.webForm(Strict, booleanLens, integerLens, stringLens, jsonLens).toLens()
		val request = WebForm()
			.with(booleanLens of boolean)
			.with(integerLens of integer)
			.with(stringLens of string)
			.with(jsonLens of json)

		val httpReq = Request(Method.POST, "/formbody")
			.with(formLens of request)

		httpHandler(httpReq)
	}
}
