>>>Endpoint.kt

package testPackage.server.endpoints

import org.http4k.core.Body
import org.http4k.core.Body.webForm
import org.http4k.core.Method
import org.http4k.core.Request
import org.http4k.core.Response
import org.http4k.core.Status
import org.http4k.lens.FormField
import org.http4k.lens.Validator.Strict
import org.http4k.lens.boolean
import org.http4k.lens.int
import org.http4k.lens.string
import org.http4k.routing.RoutingHttpHandler
import org.http4k.routing.bind

fun Endpoint(): RoutingHttpHandler {

	val booleanLens = FormField.boolean().required("boolean")
	val integerLens = FormField.int().optional("integer")
	val stringLens = FormField.string().optional("string")
	val jsonLens = FormField.string().required("json")
	val formLens = Body.webForm(Strict, booleanLens, integerLens, stringLens, jsonLens).toLens()

	return "/formbody" bind Method.POST to { req: Request ->
		val form = formLens(req)
		val boolean = booleanLens(form)
		val integer = integerLens(form)
		val string = stringLens(form)
		val json = jsonLens(form)
		Response(Status.OK)

	}
}

>>>TitleServer.kt

package testPackage.server

import org.http4k.routing.routes
import org.http4k.server.asServer
import testPackage.server.endpoints.Endpoint

object TitleServer {
	operator fun invoke() = routes(
		Endpoint()
	)
}

fun main() {
	TitleServer().asServer(SunHttp(8000)).start()
}
